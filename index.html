
<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset="UTF-8"> 
<meta content='IE=edge' http-equiv='X-UA-Compatible'/>
<meta content='width=device-width, initial-scale=1' name='viewport'/>
 <title>CodePen - Center Crop Image with jquery</title>
<style>
img {
  display: block;
  margin: 0;
}
.hor {
  width: 200px;
  height: 140px;
}
.vert {
  width: 160px;
  height: 200px;
}
.cuad {
  width: 200px;
  height: 200px;
}
.resp li {
  width: 30%;
  height: 200px;
}
</style>
</head>
  <body>
<div class="cuad"><img src="https://i.ytimg.com/vi_webp/T54HP9tiGVQ/maxresdefault.webp"/></div>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
      <script>
$(function () {
  CenterCropImage($('.cropcenterimg li'));
  $(window).resize(function () {
    CenterCropImage($('.cropcenterimg li'));
  });
});

/***CENTER CROP IMAGE***/
function CenterCropImage(x) {
  x.each(function () {
    $(this).children('img').load(function () {
      ContentBox = $(this).parent();
      PropBox = getProportions(ContentBox);

      ImgtoResize = $(this);
      PropImg = getProportions(ImgtoResize);
      if (PropBox > PropImg) {
        ProportionVertical(ImgtoResize);
      } else
      {
        ProportionHorizontal(ImgtoResize);
      }
    });
    ContentBox = $(this);
    PropBox = getProportions(ContentBox);

    ImgtoResize = $(this).children('img');
    PropImg = getProportions(ImgtoResize);
    if (PropBox > PropImg) {
      ProportionVertical(ImgtoResize);
    } else
    {
      ProportionHorizontal(ImgtoResize);
    }
  });
}


function getProportions(x) {
  Height = x.height();
  Width = x.width();
  Prop = Width / Height;
  return Prop;
}

function ProportionHorizontal(x) {
  x.removeAttr("style");
  x.css({ 'height': '100%', 'width': 'auto' });
  Wimg = x.width();
  Wcont = x.parent().width();

  MarginLeft = (Wcont - Wimg) / 2;
  x.css({ 'margin-left': MarginLeft });
}

function ProportionVertical(x) {
  x.removeAttr("style");
  x.css({ 'width': '100%', 'height': 'auto' });
  Himg = x.height();
  Hcont = x.parent().height();

  MarginTop = (Hcont - Himg) / 2;
  x.css({ 'margin-top': MarginTop });
}
    </script>
</body>
</html>

